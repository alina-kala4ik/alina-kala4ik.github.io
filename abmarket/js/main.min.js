const questions=document.body.querySelectorAll(".form_question-item"),nextQuestionButton=document.body.querySelector(".form_next-question"),previousQuestionButton=document.body.querySelector(".form_previous-question"),submitButton=document.querySelector(".form_submit"),activeQuestionInput=document.body.querySelector("#activeQuestion"),progress=document.querySelector(".form_progress-level"),formTitle=document.body.querySelector(".form_title"),formControls=document.body.querySelector(".form_controls"),TypesQuestions={RADIO:"form_question-item--radio-input",TEXT:"form_question-item--text-input"};let activeQuestion=0;const changeLockStatusOfNavigationButtons=(t,e)=>{const o=t.querySelectorAll("input"),s=e===questions.length-1,n=Array.prototype.every.call(o,t=>t.checkValidity());submitButton.disabled=!s||!n,nextQuestionButton.disabled=!n};questions.forEach((t,e)=>{t.classList.contains(TypesQuestions.RADIO)&&t.addEventListener("change",()=>{changeLockStatusOfNavigationButtons(t,e)}),t.classList.contains(TypesQuestions.TEXT)&&t.addEventListener("input",()=>{changeLockStatusOfNavigationButtons(t,e)})}),nextQuestionButton.addEventListener("click",t=>{t.preventDefault(),activeQuestion+=1,updateForm()}),previousQuestionButton.addEventListener("click",t=>{t.preventDefault(),activeQuestion-=1,updateForm()});const updateForm=()=>{questions.forEach(t=>t.classList.remove("active")),questions[activeQuestion].classList.add("active"),changeLockStatusOfNavigationButtons(questions[activeQuestion],activeQuestion),activeQuestion>0?formControls.classList.remove("first-question"):formControls.classList.add("first-question"),activeQuestion===questions.length-1&&(formControls.classList.add("hidden"),formTitle.classList.add("hidden")),activeQuestionInput.textContent=`${activeQuestion+1} из ${questions.length}`,progress.style.width=`${100/questions.length*(activeQuestion+1)}%`};